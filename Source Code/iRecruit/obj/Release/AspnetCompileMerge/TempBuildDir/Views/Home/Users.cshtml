@using System.Web.Optimization
@{
    Layout = null;
}

<style>
    .chosen-container .search-field{
        height:34px;
    }
        
</style>
<section class="content-header">
    <div class="row">
        <div class="col-lg-8">
        <a href="javascript:window.history.back();" class="back-button big"></a>     
        <h1 style="font-size:36px;margin-left:80px; margin-top:45px">
        Users
        </h1>
            </div>
        <div class="col-lg-4 pull-right">
            <div class="form-group" style="padding-top:40px;">
                <div class="input-group">
                    <input type="text" class="form-control" ng-model="uid" typeahead="i.label for i in searchUser($viewValue)" typeahead-loading="loadingLocations" typeahead-on-select="onUserSelected($item, $model, $label)">
                            <i ng-show="loadingLocations" class="glyphicon glyphicon-refresh"></i>
                    <span class="input-group-btn">
                        <button name="seach" id="search-btn" class="btn btn-flat"><i class="fa fa-search"></i></button>
                    </span>
                </div><!-- /.input group -->
            </div>
            </div>
            
        </div>
</section>
<section class="content">
    <form name="userForm" ng-submit="submitForm(userForm.$valid);" novalidate>
    <div class="box box-primary">
        <div class="box-header">
            <img src="data:image/jpg;base64,{{photo}}" ng-show="photo != ''" class="img-circle" width="90" height="90"/>
            <img src="/images/bluemanm.png" ng-show="photo == ''" class="img-circle"  width="90" height="90" />
        </div><!-- /.box-header -->
            <div class="box-body">
                    <div class="form-group">
                    <label>User ID</label>
                    <div class="input-group">
                        <input name="userid" id="userid" type="text" autocomplete="off" valid-ad-user class="form-control input-group" ng-model="userid" required typeahead="i.label for i in searchADUser($viewValue)" typeahead-loading="loadingLocations" typeahead-on-select="onADUserSelected($item, $model, $label)" typeahead-min-length="3" typeahead-wait-ms="2000">
                            <i ng-show="loadingLocations" class="glyphicon glyphicon-refresh"></i>
                        <span class="input-group-btn">
                            <button name="seach" id="user-search" class="btn btn-flat"><i class="fa fa-search"></i></button>
                        </span>
                    </div><!-- /.input group -->
                    <p ng-show="userForm.userid.$invalid && $formPristine" class="has-error">A valid UserID is required.</p>
                    <p ng-show="admessage!=''" class="has-error">{{admessage}}</p>
                </div>
                <div class="form-group">
                    <label>Name</label>
                    <input class="form-control" type="text" ng-model="username" ng-readonly>
                </div>
                <div class="form-group">
                    <label>Title</label>
                    <input class="form-control" type="text" ng-model="title"  ng-readonly>
                </div>
                <div class="form-group">
                    <label>Email</label>
                    <input class="form-control" type="email" ng-model="email" ng-readonly>
                </div>
                <div class="form-group">
                    <label>Branches</label>
                        <select required chosen multiple class="form-control" placeholder="Select branches" tabindex="18" name="brans" ng-model="brans" id="brans" ng-options="s.Code for s in data.branches">
                        </select>
                    <p ng-show="userForm.brans.$error.required && $formPristine" class="has-error">Please select at least one branch.</p>
                </div>
                <div class="form-group">
                    <label>Features</label>
                    <select required chosen multiple class="form-control" placeholder="Select access features" tabindex="18" name="feature" id="feature" ng-model="feature" ng-options="s.Code for s in features"></select>
                    <p ng-show="userForm.feature.$error.required && $formPristine" class="has-error">Please select access features to assign credentials.</p>
                </div>

            </div>
            <button type="submit" ng-disabled="userForm.$invalid" class="btn btn-primary">Submit</button>&nbsp;
            <button type="reset" class="btn btn-info">Cancel</button>&nbsp;   
            </div>
    </form>                        
    </section><!-- /.content -->


